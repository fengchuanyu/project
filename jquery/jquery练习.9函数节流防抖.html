<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./js/jquery-3.4.1.js"></script>
</head>

<body>
    <div id="content"
        style="height:150px;line-height:150px;text-align:center; color: #fff;background-color:#ccc;font-size:80px;margin-bottom: 20px">
    </div>
    <div id="content2"
        style="height:150px;line-height:150px;text-align:center; color: #fff;background-color:#ccc;font-size:80px;margin-bottom: 20px">
    </div>
    <div id="content3"
        style="height:150px;line-height:150px;text-align:center; color: #fff;background-color:#ccc;font-size:80px;">
    </div>
    <script>
      // 防抖 所谓防抖，就是指触发事件后在 n 秒内函数只能执行一次，如果在 n 秒内又触发了事件，则会重新计算函数执行时间
      // 节流 所谓节流，就是指连续触发事件但是在 n 秒中只执行一次函数
        var num = 0;
        function foo(){
          $("#content").text(num++);
        }
        $("#content").on("mousemove",foo)  
        
        //防抖
        var num2 = 0;
        function foo2(){
          $("#content2").text(num2++);
        }
        function debounce(fun,wait){
          var timer = null;
          return function(){
            if(timer){
              clearTimeout(timer)
            }
            timer = setTimeout(function(){
              fun()
            },wait)
          }
        }
        $("#content2").on("mousemove",debounce(foo2,1000)) 
        //节流
        var num3 = 0;
        function foo3(){
          $("#content3").text(num3++);
        }

        function throttle(fun,wait){
          var timer = null;
          return function(){
            if(!timer){
              timer = setTimeout(function(){
                fun();
                timer = null
              },wait)
            }
          }
        }

        $("#content3").on("mousemove",throttle(foo3,1000)) 


        // function foo5(){
        //   return function(){
        //     console.log(1);
        //   }
        // }

        // var a = foo5()
        // a()//1
    </script>
</body>

</html>